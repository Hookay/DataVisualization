<html>

  <head>
    <script type='text/javascript' src='https://d3js.org/d3.v7.min.js'></script>
  </head>


  <body>



    <style>
      svg rect {
        fill: blue;
      }

      svg text {
        fill: white;
        font: 10px sans-serif;
        text-anchor: end;
      }

      div {
        display: inline-block;
        width: 10px;
        height: 10px;
        margin: 1px;
        padding: 10px;
      }

    </style>

    <script>
      /*Exercise 28: Take one of the d3 color methods and apply it to the bar chart example (from earlier). So the color is 
related to the value (not just fixed). */


      var body = d3.select('body');

      var myColor0 = d3.scaleLinear().domain([1, 10]).range(["white", "blue"]);
      var myColor1 = d3.scaleSequential().domain([1, 10]).interpolator(d3.interpolatePuRd);
      var myColor2 = d3.scaleSequential().domain([1, 10]).interpolator(d3.interpolateViridis);

      /* 
      d3.range(5) [0, 1, 2, 3, 4] 
      */

      var data = d3.range(5);

      var myColor3 = d3.scaleOrdinal().domain(data).range(["gold", "blue", "green", "yellow"]);
      var myColor4 = d3.scaleOrdinal().domain(data).range(d3.schemeSet3);

      var cols = [myColor0,
        myColor1,
        myColor2,
        myColor3,
        myColor4
      ];

      var data = [5, 10, 12, 6];

      var width = 200;
      var scaleFactor = 10;
      var barHeight = 20;

      var graph = d3.select("body")
        .append("svg")
        .attr("width", width)
        .attr("height", barHeight * data.length)
        ;

      var bar = graph.selectAll("g")
        .data(data)
        .enter()
        .append("g")
        .attr("transform", function(d, i) {
          return "translate(0," + i * barHeight + ")";
        })

      bar.append("rect")
        .attr("width", function(d) {
          return d * scaleFactor;
        })
        .attr("height", barHeight - 1);

      bar.append("text")
        .attr("x", function(d) {
          return (d * scaleFactor);
        })
        .attr("y", barHeight / 2)
        .attr("dy", ".35em")
        .text(function(d) {
          return d;
        });
      // for (let k = 0; k < cols.length; k++) {
      //   for (let i = 0; i < 20; i++) {
      //     body.append('div').style('background-color', cols[k](i));
      //   }
      //   body.append('br');
      // }

      console.log('ready..');

    </script>
  </body>

</html>
