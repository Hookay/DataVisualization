<html>

  <head>
    <script type='text/javascript' src='https://d3js.org/d3.v7.min.js'></script>
  </head>


  <body>


    <style>
      svg rect {
        fill: blue;
      }

      svg text {
        fill: white;
        font: 10px sans-serif;
        text-anchor: end;
      }

    </style>

    <script>
    
    /*Exercise 32: Add a graphical image (e.g., png/jpg) to the background of one of the graphs (e.g., bar chart or line plot).  
Scale the image to fit the size of the svg bounds (covers background)*/
      var data = [5, 10, 12, 6];

      var width =550;
      var scaleFactor = 10;
      var barHeight = 70;
      
      var graph = d3.select("body")
        .append("svg")
        .attr("width", width)
        .attr("height", barHeight * data.length)
        .style("border", '1px solid yellow');


      //graphical image added to graph
      graph.append("image")
        .attr("xlink:href", "https://icatcare.org/app/uploads/2018/07/Helping-your-new-cat-or-kitten-settle-in-1.png")
        //scale the image to the svg bounds
        .attr("width", width)
        .attr("height", barHeight * data.length)
        //aline it to the corner
        .attr("x", 0)
        .attr("y", 0);
        
        
        
      var bar = graph.selectAll("g")
        .data(data)
        .enter()
        .append("g")
        .attr("transform", function(d, i) {
          return "translate(0," + i * barHeight + ")";
        });

      bar.append("rect")
        .attr("width", function(d) {
          return d * scaleFactor;
        })
        .attr("height", barHeight - 1);

      bar.append("text")
        .attr("x", function(d) {
          return (d * scaleFactor);
        })
        .attr("y", barHeight / 2)
        .attr("dy", ".35em")
        .text(function(d) {
          return d;
        });

    </script>
  </body>

</html>

