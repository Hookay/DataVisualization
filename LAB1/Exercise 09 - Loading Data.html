<!DOCTYPE html>
<html lang="en">

  <head>
    <script src='https://d3js.org/d3.v7.min.js'></script>

  </head>


  <body>
    <script>
      /* Exercise 9: For the example above, to count how many of the names include ‘Mr.’ and ‘Mrs’ (or other).  Also print 
out other details using other column header information, such as, how many passengers are ‘male’ and how many 
‘female’. */



      let titaniccsv = 'https://raw.githubusercontent.com/dsindy/kaggle-titanic/master/data/test.csv';
      /* 
      PassengerId,Pclass,Name,Sex,Age,SibSp,Parch,Ticket,Fare,Cabin,Embarked 
      892,3,"Kelly, Mr. James",male,34.5,0,0,330911,7.8292,,Q 
      893,3,"Wilkes, Mrs. James (Ellen Needs)",female,47,1,0,363272,7,,S 
      894,2,"Myles, Mr. Thomas Francis",male,62,0,0,240276,9.6875,,Q 
      895,3,"Wirz, Mr. Albert",male,27,0,0,315154,8.6625,,S 
      */

      //counter variables to find information
      var Mr = 0
      var Mrs = 0
      var m = 0
      var w = 0
      //array to store these values
      var observe = [0, 0, 0, 0] 


      d3.csv(titaniccsv, function(data, i) {
        //look for females and count them else counts men
        if (data.Sex == "female") {
          w++;
        } else {
          m++;
        }
        //look for Mr in names
        if (data.Name.includes("Mr")) {
          Mr++;
        }
        //look for Mrs in names
        if (data.Name.includes("Mrs")) {
          Mrs++;
        }
        
      
      }).then(function(data) {
        //print the desired information to the console
        console.log("Mr: " + Mr)
        console.log("Mrs: " + Mrs)
        console.log("Men on the boat : " + m)
        console.log("Women on the boat : " + w);
       
        //fill array
        observe[0]=Mr;
        observe[1]=Mrs;
        observe[2]=m;
        observe[3]=w;
        //append to body and text to display
         var span = d3.select("body")
          .selectAll("span")
          .data(observe) 
          .enter()
          .append("p") 
          .text(function(d, i) { 
          //make sure it only prints it once since there is 4 object in an array it would repeat
          if (i==3){
           return ( " Mr: " + observe[0]+ ", Mrs: " + observe[1]+ ", men: " +observe[2]+", woman: " + observe[3])}
          }).style("color","purple")

      });
    

    </script>
  </body>

</html>
